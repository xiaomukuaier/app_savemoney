{
  "name": "savemoney-app",
  "services": [
    {
      "name": "backend",
      "type": "backend",
      "source": {
        "type": "git",
        "path": "backend"
      },
      "build": {
        "type": "nixpacks"
      },
      "env": {
        "FEISHU_APP_ID": "${FEISHU_APP_ID}",
        "FEISHU_APP_SECRET": "${FEISHU_APP_SECRET}",
        "FEISHU_TABLE_ID": "${FEISHU_TABLE_ID}",
        "OPENAI_API_KEY": "${OPENAI_API_KEY}",
        "LANGCHAIN_API_KEY": "${LANGCHAIN_API_KEY}"
      },
      "ports": [
        {
          "port": 8000,
          "protocol": "http"
        }
      ]
    },
    {
      "name": "frontend",
      "type": "static",
      "source": {
        "type": "git",
        "path": "frontend"
      },
      "build": {
        "type": "nixpacks"
      },
      "env": {
        "VITE_API_BASE_URL": "${BACKEND_URL}"
      }
    }
  ],
  "routes": [
    {
      "path": "/*",
      "service": "frontend"
    },
    {
      "path": "/api/*",
      "service": "backend"
    }
  ]
}